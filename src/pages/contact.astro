---
import BaseLayout from '../layouts/BaseLayout.astro';
---

<BaseLayout 
  title="Contact Dr. Colin MacLeod ND" 
  description="Contact Dr. Colin MacLeod, Halifax Naturopathic Doctor. Ask questions about natural health treatments, IV therapy, prolotherapy and naturopathic medicine."
  focusKeyword="contact Halifax naturopathic doctor"
>
  <!-- Hero Section -->
  <section class="bg-emerald-950 -mt-24 pt-48 pb-24 lg:pt-56 lg:pb-32">
    <div class="section-shell">
      <div class="text-center max-w-4xl mx-auto space-y-6">
        <h1 class="text-4xl sm:text-5xl lg:text-6xl font-serif font-bold text-white mb-6 tracking-tight">Contact Dr. Colin MacLeod ND</h1>
        <p class="text-lg sm:text-xl text-white/90 leading-relaxed font-light">
          Have questions about naturopathic medicine or want to learn if our treatments are right for you? Get in touch with our Halifax practice.
        </p>
      </div>
    </div>
  </section>

  <!-- Contact Options -->
  <section class="py-16 lg:py-24 bg-white">
    <div class="section-shell">
      <div class="grid lg:grid-cols-2 gap-12">
        
        <!-- Contact Form -->
        <div>
          <h2 class="text-3xl sm:text-4xl font-serif font-bold text-emerald-950 mb-6">Send Us a Message</h2>
          <p class="text-gray-600 mb-8">
            Use this form to ask questions about treatments, scheduling, or general inquiries. We'll respond within 1-2 business days.
          </p>
          
          <form
            id="contact-form"
            action="https://formspree.io/f/mrbnkoan"
            method="POST"
            class="space-y-6"
          >
            <!-- Name -->
            <div>
              <label for="name" class="block text-sm font-medium text-gray-700 mb-2">
                Name *
              </label>
              <input
                type="text"
                id="name"
                name="name"
                required
                class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent"
              >
            </div>

            <!-- Email -->
            <div>
              <label for="email" class="block text-sm font-medium text-gray-700 mb-2">
                Email Address *
              </label>
              <input
                type="email"
                id="email"
                name="email"
                required
                class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent"
              >
            </div>

            <!-- Message -->
            <div>
              <label for="message" class="block text-sm font-medium text-gray-700 mb-2">
                Message *
              </label>
              <textarea
                id="message"
                name="message"
                rows="6"
                required
                placeholder="Please provide details about your question or health concern..."
                class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent resize-vertical"
              ></textarea>
            </div>

            <!-- Privacy Notice -->
            <div class="bg-gray-50 p-4 rounded-lg">
              <div class="flex items-start">
                <input 
                  type="checkbox" 
                  id="privacy" 
                  name="privacy" 
                  required
                  class="mt-1 mr-3 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"
                >
                <label for="privacy" class="text-sm text-gray-600">
                  I understand that this form is for general inquiries only and not for medical emergencies. Any health information shared will be kept confidential and used only to provide appropriate resources and scheduling information. *
                </label>
              </div>
            </div>

            <!-- Submit Button -->
            <div>
              <button 
                type="submit" 
                id="submit-btn"
                class="w-full bg-emerald-900 text-white py-3 px-6 rounded-lg font-semibold hover:bg-emerald-800 transition-colors focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2"
              >
                <span id="submit-text">Send Message</span>
                <span id="submit-loading" class="hidden">Sending...</span>
              </button>
            </div>

            <!-- Success/Error Messages -->
            <div id="form-messages" class="hidden">
              <div id="success-message" class="hidden bg-emerald-50 border border-emerald-200 text-emerald-700 px-4 py-3 rounded-lg">
                <p class="font-semibold">Message sent successfully!</p>
                <p class="text-sm">We'll respond to your inquiry within 1-2 business days.</p>
              </div>
              <div id="error-message" class="hidden bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg">
                <p class="font-semibold">Unable to send message.</p>
                <p class="text-sm">Please try again or contact us directly via phone.</p>
              </div>
            </div>
          </form>
        </div>

        <!-- Contact Info & Booking -->
        <div class="space-y-8">
          
          <!-- Primary Contact Method -->
          <div class="bg-emerald-50/50 border border-emerald-100 rounded-2xl p-8 shadow-sm">
            <h3 class="text-2xl font-bold text-gray-800 mb-4">Book Your Appointment</h3>
            <p class="text-gray-600 mb-6">
              Ready to schedule? Our online booking system is the fastest way to secure your appointment with Dr. MacLeod.
            </p>
            <a 
              href="https://macleodnaturopathic.janeapp.com/" 
              target="_blank"
              class="bg-emerald-900 text-white px-8 py-3 rounded-full font-semibold hover:bg-emerald-800 transition-colors inline-flex items-center shadow-lg"
            >
              Book Online Now
              <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
              </svg>
            </a>
          </div>

          <!-- Practice Information -->
          <div class="bg-white border border-emerald-100 rounded-2xl p-8 shadow-sm">
            <h3 class="text-xl font-serif font-bold text-emerald-950 mb-6">Practice Information</h3>
            
            <div class="space-y-4">
              <div class="flex items-start">
                <svg class="w-5 h-5 text-emerald-800 mt-1 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                </svg>
                <div>
                  <p class="font-semibold text-gray-800">Location</p>
                  <p class="text-gray-600">Halifax, Nova Scotia</p>
                </div>
              </div>

              <div class="flex items-start">
                <svg class="w-5 h-5 text-emerald-700 mt-1 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                <div>
                  <p class="font-semibold text-gray-800">Response Time</p>
                  <p class="text-gray-600">1-2 business days for inquiries</p>
                </div>
              </div>

              <div class="flex items-start">
                <svg class="w-5 h-5 text-emerald-700 mt-1 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
                </svg>
                <div>
                  <p class="font-semibold text-gray-800">Privacy</p>
                  <p class="text-gray-600">All communications kept confidential</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Emergency Notice -->
          <div class="bg-red-50 border border-red-200 rounded-xl p-6">
            <div class="flex items-start">
              <svg class="w-6 h-6 text-red-600 mt-1 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.728-.833-2.498 0L4.316 16.5c-.77.833.192 2.5 1.732 2.5z"></path>
              </svg>
              <div>
                <p class="font-semibold text-red-800 mb-2">Medical Emergency</p>
                <p class="text-sm text-red-700">
                  This contact form is not monitored 24/7. For medical emergencies, please call 911 or visit your nearest emergency department.
                </p>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="py-16 bg-gray-50">
    <div class="container mx-auto px-4">
      <div class="text-center mb-12">
        <h2 class="text-3xl sm:text-4xl font-serif font-bold text-emerald-950 mb-4">Frequently Asked Questions</h2>
        <p class="text-lg text-gray-600">Common questions about naturopathic consultations and treatments</p>
      </div>

      <div class="max-w-3xl mx-auto space-y-6">
        <div class="bg-white rounded-lg shadow-sm">
          <button class="faq-question w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors">
            <span class="font-semibold text-gray-800">What should I expect in my first consultation?</span>
            <svg class="w-5 h-5 text-gray-500 transform transition-transform faq-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>
          <div class="faq-answer hidden px-6 pb-4">
            <p class="text-gray-600">Your first appointment is comprehensive, typically lasting 60-90 minutes. Dr. MacLeod will review your health history, current concerns, lifestyle factors and may recommend laboratory testing. This thorough assessment helps create a personalized treatment plan.</p>
          </div>
        </div>

        <div class="bg-white rounded-lg shadow-sm">
          <button class="faq-question w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors">
            <span class="font-semibold text-gray-800">Do you accept insurance coverage?</span>
            <svg class="w-5 h-5 text-gray-500 transform transition-transform faq-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>
          <div class="faq-answer hidden px-6 pb-4">
            <p class="text-gray-600">Many extended health benefit plans cover naturopathic consultations and treatments. We provide detailed receipts for insurance submission. Please check your specific coverage for naturopathic medicine, IV therapy and acupuncture.</p>
          </div>
        </div>

        <div class="bg-white rounded-lg shadow-sm">
          <button class="faq-question w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors">
            <span class="font-semibold text-gray-800">How long do treatments take to show results?</span>
            <svg class="w-5 h-5 text-gray-500 transform transition-transform faq-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>
          <div class="faq-answer hidden px-6 pb-4">
            <p class="text-gray-600">Treatment response varies by individual and condition. Some patients notice improvements within days (especially with IV therapy), while chronic conditions may require several weeks to months. Dr. MacLeod monitors progress closely and adjusts treatments as needed.</p>
          </div>
        </div>

        <div class="bg-white rounded-lg shadow-sm">
          <button class="faq-question w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors">
            <span class="font-semibold text-gray-800">Can I combine naturopathic treatment with conventional medicine?</span>
            <svg class="w-5 h-5 text-gray-500 transform transition-transform faq-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>
          <div class="faq-answer hidden px-6 pb-4">
            <p class="text-gray-600">Absolutely. Dr. MacLeod works collaboratively with your existing healthcare team. Naturopathic treatments often complement conventional approaches effectively. We always consider medication interactions and communicate with your other healthcare providers when appropriate.</p>
          </div>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>

<script>
  // Form submission handling
  document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('contact-form');
    const submitBtn = document.getElementById('submit-btn');
    const submitText = document.getElementById('submit-text');
    const submitLoading = document.getElementById('submit-loading');
    const formMessages = document.getElementById('form-messages');
    const successMessage = document.getElementById('success-message');
    const errorMessage = document.getElementById('error-message');

    // FAQ functionality
    const faqQuestions = document.querySelectorAll('.faq-question');
    faqQuestions.forEach(question => {
      question.addEventListener('click', function() {
        const answer = this.nextElementSibling;
        const icon = this.querySelector('.faq-icon');
        
        if (answer.classList.contains('hidden')) {
          // Close all other answers
          document.querySelectorAll('.faq-answer').forEach(a => a.classList.add('hidden'));
          document.querySelectorAll('.faq-icon').forEach(i => i.classList.remove('rotate-180'));
          
          // Open this answer
          answer.classList.remove('hidden');
          icon.classList.add('rotate-180');
        } else {
          answer.classList.add('hidden');
          icon.classList.remove('rotate-180');
        }
      });
    });

    // Form submission
    form?.addEventListener('submit', function(e) {
      e.preventDefault();
      
      // Show loading state
      submitBtn.disabled = true;
      submitText.classList.add('hidden');
      submitLoading.classList.remove('hidden');
      formMessages.classList.add('hidden');
      successMessage.classList.add('hidden');
      errorMessage.classList.add('hidden');

      // Get form data
      const formData = new FormData(form);
      
      fetch('https://formspree.io/f/mrbnkoan', {
        method: 'POST',
        body: formData,
        headers: {
          'Accept': 'application/json'
        }
      })
      .then(response => {
        if (response.ok) {
          // Success
          formMessages.classList.remove('hidden');
          successMessage.classList.remove('hidden');
          form.reset();
        } else {
          throw new Error('Network response was not ok');
        }
      })
      .catch(error => {
        // Error
        console.error('Form submission error:', error);
        formMessages.classList.remove('hidden');
        errorMessage.classList.remove('hidden');
      })
      .finally(() => {
        // Reset button state
        submitBtn.disabled = false;
        submitText.classList.remove('hidden');
        submitLoading.classList.add('hidden');
      });
    });
  });
</script>

<style>
  .rotate-180 {
    transform: rotate(180deg);
  }
</style>